<div class="container mt-3">
  <div class="card">
    <div class="card-body">
      <h4>Edição de Contatos</h4>
      <p>Utilize o formulário para editar os dados do contato.</p>
      <hr />

      <div
        *ngIf="mensagem"
        class="alert alert-primary alert-dismissible fade show mb-2"
        role="alert"
      >
        <strong>{{ mensagem }}</strong>
        <button
          type="button"
          class="btn-close"
          aria-label="Close"
          (click)="mensagem = ''"
        ></button>
      </div>

      <form [formGroup]="formEdicao" (ngSubmit)="onSubmit()">
        <input type="hidden" formControlName="idContato" />

        <div class="form-group row mb-2">
          <label for="nome" class="col-sm-2 col-form-label"
            >Nome do contato:</label
          >
          <div class="col-sm-6">
            <input
              type="text"
              class="form-control"
              id="nome"
              placeholder="Digite o nome do contato"
              formControlName="nome"
            />
            <span class="text-danger">
              <span *ngIf="form.nome.touched && form.nome.invalid">
                <span *ngIf="form.nome.errors.required">
                  Por favor, informe o nome do contato.
                </span>
                <span *ngIf="form.nome.errors.minlength">
                  Por favor, informe pelo menos 6 caracteres.
                </span>
                <span *ngIf="form.nome.errors.maxlength">
                  Por favor, informe no máximo 150 caracteres.
                </span>
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label for="email" class="col-sm-2 col-form- label"
            >Email do contato:</label
          >
          <div class="col-sm-6">
            <input
              type="text"
              class="form-control"
              id="email"
              placeholder="Digite o email do contato"
              formControlName="email"
            />
            <span class="text-danger">
              <span *ngIf="form.email.touched && form.email.invalid">
                <span *ngIf="form.email.errors.required">
                  Por favor, informe o email do contato.
                </span>
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <label for="telefone" class="col-sm-2 col-form- label"
            >Telefone do contato</label
          >
          <div class="col-sm-6">
            <input
              type="text"
              class="form-control"
              id="telefone"
              placeholder="Digite o telefone do contato"
              formControlName="telefone"
            />
            <span class="text-danger">
              <span *ngIf="form.telefone.touched && form.telefone.invalid">
                <span *ngIf="form.telefone.errors.required">
                  Por favor, informe o telefone do contato.
                </span>
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2">
          <div class="col-sm-10 offset-sm-2">
            <button
              type="submit"
              class="btn btn-success"
              [disabled]="!formEdicao.valid"
            >
              Salvar Alterações
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
